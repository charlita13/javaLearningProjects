import java.lang.reflect.Array;
import java.nio.file.attribute.UserDefinedFileAttributeView;
import java.util.List;
import java.util.Scanner;

public class Slot {

    String[] symbols = {"ğŸ’", "ğŸ‰", "ğŸ‹", "ğŸ””", "â­"};

    private static double credit;

    public Slot() {
        this.credit = 0;
    }

    public void setCredit(double credit) {
        this.credit = credit;
    }

    public double getCredit() {
        return credit;
    }

    public void possibleSymbolsAndMath() {
        System.out.println("Possible symbols: ");
        System.out.println("ğŸ’ğŸ’ğŸ’" + " BET * 3");
        System.out.println("ğŸ‰ğŸ‰ğŸ‰" + " BET * 7");
        System.out.println("ğŸ‹ğŸ‹ğŸ‹" + "  BET * 15");
        System.out.println("ğŸ””ğŸ””ğŸ””" + "  BET * 25");
        System.out.println("â­â­â­" + " BET * 100");
        System.out.println("ğŸƒğŸƒğŸƒ" + "  BET * 10");
        System.out.println("ğŸƒ" + " can replace any other symbol");
        System.out.println();
    }

    public void possibleCommands() {
        System.out.println("Possible commands: ");

        for (Command c : Command.values()) {
            System.out.println(c + ": " + c.getDescription());
        };
        System.out.println();
    }

    public void showCredit() {
        System.out.println("Your current credit is | " + this.getCredit() + " |\n");
    }

    public static void doubleInputCheck(Scanner scanner, Slot automat, String pokyn) {
        if (pokyn.equals("deposit")) {
            System.out.print("Enter the amount you want to deposit: ");
        } else if (pokyn.equals("withdraw")) {
            System.out.print("Enter the amount you want to withdraw: ");
        };

        if (scanner.hasNextDouble()) {
            double addDeposit = scanner.nextDouble();
            scanner.nextLine();
            if (addDeposit > 0) {
                if (pokyn.equals("deposit")) {
                    automat.setCredit(automat.getCredit() + addDeposit);
                    automat.showCredit();
                } else if (pokyn.equals("withdraw")) {
                    if ((automat.getCredit() - addDeposit) >= 0) {
                        automat.setCredit(automat.getCredit() - addDeposit);
                        automat.showCredit();
                    } else {
                        System.out.println("Not executed. Max possible withdraw | " + automat.getCredit() + " |");
                    }

                }
            } else {
                System.out.println("Wrong value. Enter positive number");
                automat.showCredit();
            }
        } else {
            System.out.println("Invalid input. Please enter a valid number");
            scanner.nextLine();
            automat.showCredit();
        }
    }

    public static String displaySymbol() {
        // ğŸ’ = 1 - 33; ğŸ‰ = 34 - 55; ğŸ‹ = 56 - 70; ğŸ”” = 71 - 79; â­ = 80 - 83;  ğŸƒ= 84 - 100

        SymbolRange[] ranges = {
                new SymbolRange("ğŸ’", 33),
                new SymbolRange("ğŸ‰", 55),
                new SymbolRange("ğŸ‹", 70),
                new SymbolRange("ğŸ””", 79),
                new SymbolRange("â­", 83),
                new SymbolRange("ğŸƒ", 100)
        };

        String[] kombinace = new String[3];

        for (int i = 0; i < 3; i++) {
            int randomNumber = 1 + (int) (Math.random() * 100);
            for (SymbolRange range : ranges) {
                if (randomNumber <= range.maxRange) {
                    kombinace[i] = range.symbol;
                    break;
                }
            }
        }
        String values = kombinace[0] + kombinace[1] + kombinace[2];
        return values;
    }

    public static boolean creditCheck(double sazka) {
        return ((Slot.credit - sazka) >= 0);

    }

    public static double winningCombination(double sazka, String padlaKombinace) {
        if (List.of("ğŸ’ğŸ’ğŸ’", "ğŸƒğŸ’ğŸ’", "ğŸ’ğŸƒğŸ’", "ğŸ’ğŸ’ğŸƒ", "ğŸƒğŸ’ğŸƒ", "ğŸ’ğŸƒğŸƒ", "ğŸƒğŸƒğŸ’").contains(padlaKombinace)) {
            return sazka * 3;
        } else if (List.of("ğŸ‰ğŸ‰ğŸ‰", "ğŸƒğŸ‰ğŸ‰", "ğŸ‰ğŸƒğŸ‰", "ğŸ‰ğŸ‰ğŸƒ", "ğŸƒğŸ‰ğŸƒ", "ğŸ‰ğŸƒğŸƒ", "ğŸƒğŸƒğŸ‰").contains(padlaKombinace)) {
            return sazka * 7;
        } else if (List.of("ğŸ‹ğŸ‹ğŸ‹", "ğŸƒğŸ‹ğŸ‹", "ğŸ‹ğŸƒğŸ‹", "ğŸ‹ğŸ‹ğŸƒ", "ğŸƒğŸ‹ğŸƒ", "ğŸ‹ğŸƒğŸƒ", "ğŸƒğŸƒğŸ‹").contains(padlaKombinace)) {
            return sazka * 15;
        } else if (List.of("ğŸ””ğŸ””ğŸ””", "ğŸƒğŸ””ğŸ””", "ğŸ””ğŸƒğŸ””", "ğŸ””ğŸ””ğŸƒ", "ğŸ””ğŸƒğŸƒ", "ğŸƒğŸ””ğŸƒ", "ğŸƒğŸƒğŸ””").contains(padlaKombinace)) {
            return sazka * 25;
        } else if (List.of("â­â­â­", "ğŸƒâ­â­", "â­ğŸƒâ­", "â­â­ğŸƒ", "â­ğŸƒğŸƒ", "ğŸƒâ­ğŸƒ", "ğŸƒğŸƒâ­").contains(padlaKombinace)) {
            return sazka * 100;
        } else if (List.of("ğŸƒğŸƒğŸƒ").contains(padlaKombinace)) {
            return sazka * 10;
        } else {
            return 0.0;
        }
    }
}
